<!DOCTYPE html>
<html>
   <head>
      <title>Revoke Page</title>
      <link rel="stylesheet" href="./styles/style.css" />
   </head>
   <body>
      <nav class="bg-gray-800">
         <div class="max-w-7xl px-2 sm:px-6 lg:px-8">
            <div class="relative flex h-16 items-center justify-between">
               <div
                  class="flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"
               >
                  <div class="flex flex-shrink-0 items-center">
                     <h1 class="text-xl text-white">Aries Authority Agent</h1>
                  </div>
                  <div class="sm:ml-6 sm:block">
                     <div class="flex space-x-4">
                        <!-- Current: "bg-gray-900 text-white", Default: "text-gray-300 hover:bg-gray-700 hover:text-white" -->
                        <a
                           href="/revocation"
                           class="rounded-md bg-gray-900 px-3 py-2 text-sm font-medium text-white"
                           aria-current="page"
                           >Revocation</a
                        >
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </nav>

      <div class="flex justify-center mt-6 mb-4">
         <h1 class="text-3xl font-bold">List of Issued Identities</h1>
      </div>
      <div class="w-1/3 mx-auto">
         <ul role="list">
            <li
               class="border-solid border-2 border-black px-4 items-center bg-gray-200 bg-opacity-50"
            >
               <p class="font-bold">NIM</p>
            </li>
            <% for(let i = 0; i < accountData.length; i++) { %>
            <li
               class="border-solid border-2 border-black flex justify-between gap-x-6 py-5 bg-gray-200 bg-opacity-75 px-4 leading-6 items-center"
            >
               <div class="flex min-w-0 gap-x-4">
                  <div class="min-w-0 flex-auto">
                     <p class="text-base text-gray-900">
                        <%= accountData[i].nim %>
                     </p>
                  </div>
               </div>
               <div class="flex items-end">
                  <form method="POST" action="/revocation/revoke">
                     <input
                        type="hidden"
                        name="id"
                        value="<%= accountData[i].id %>"
                     />
                     <input
                        type="hidden"
                        name="cred_rev_id"
                        value="<%= accountData[i].cred_rev_id %>"
                     />
                     <input
                        type="hidden"
                        name="rev_reg_id"
                        value="<%= accountData[i].rev_reg_id %>"
                     />
                     <button
                        class="bg-red-500 hover:bg-red-700 active:bg-red-800 active:transform active:scale-95 text-white font-semibold py-2 px-4 rounded transition duration-150 ease-in-out"
                        type="submit"
                     >
                        Revoke
                     </button>
                  </form>
               </div>
            </li>
            <% } %>
         </ul>
      </div>
   </body>
</html>
